<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documents - Congress Financial Disclosures</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pako/2.1.0/pako.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
</head>

<body>
    <div class="app-container">
        <div id="nav-container"></div>

        <main class="main-content" style="padding: 0; height: calc(100vh - 64px);">
            <!-- Split View Container -->
            <div class="split-view-container" id="silver-split-view" style="height: 100%;">
                <!-- Sidebar -->
                <div class="split-view-sidebar">
                    <div class="sidebar-header">
                        <div class="sidebar-search">
                            <input type="text" id="silver-doc-search" class="input"
                                placeholder="Search by Doc ID or Member...">
                        </div>
                        <div class="sidebar-filters">
                            <select id="silver-type-filter" class="select">
                                <option value="">All Types</option>
                            </select>
                            <select id="silver-year-filter" class="select" style="width: 100px;">
                                <option value="">Year</option>
                            </select>
                        </div>
                        <div
                            style="font-size: 0.75rem; color: hsl(var(--muted-foreground)); display: flex; justify-content: space-between;">
                            <span id="silver-list-count">0 documents</span>
                            <button id="silver-refresh-btn" class="btn-ghost" style="padding: 0 0.25rem; height: auto;"
                                title="Refresh list">â†»</button>
                        </div>
                    </div>
                    <div id="silver-doc-list" class="sidebar-list">
                        <div class="loading-state">
                            <div class="spinner" style="width: 20px; height: 20px; border-width: 2px;">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Main Content (Split View) -->
                <div class="split-view-main">
                    <div id="silver-empty-state" class="empty-state">
                        <div class="empty-icon">ðŸ“„</div>
                        <h3>Select a document</h3>
                        <p>Choose a document from the list to view extraction details.</p>
                    </div>

                    <div id="silver-content-pane" class="split-pane-container hidden">
                        <!-- Left: PDF Viewer -->
                        <div class="split-pane-left" id="silver-pane-left">
                            <div class="pdf-toolbar">
                                <button class="btn-ghost" id="pdf-prev" title="Previous Page">â—€</button>
                                <span style="font-size: 0.8rem;">Page <span id="pdf-page-num">1</span> /
                                    <span id="pdf-page-count">--</span></span>
                                <button class="btn-ghost" id="pdf-next" title="Next Page">â–¶</button>
                                <div style="flex: 1;"></div>
                                <button class="btn-ghost" id="pdf-zoom-out" title="Zoom Out">âˆ’</button>
                                <button class="btn-ghost" id="pdf-zoom-in" title="Zoom In">ï¼‹</button>
                                <a href="#" id="pdf-download-link" target="_blank" class="btn-ghost"
                                    title="Download PDF">â¬‡</a>
                            </div>
                            <div class="pdf-container">
                                <canvas id="silver-pdf-canvas" class="pdf-canvas"></canvas>
                            </div>
                        </div>

                        <!-- Resizer -->
                        <div class="resizer" id="silver-resizer"></div>

                        <!-- Right: Data Viewer -->
                        <div class="split-pane-right" id="silver-pane-right">
                            <div class="data-header">
                                <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                                    <div>
                                        <h2 id="data-doc-title"
                                            style="font-size: 1.1rem; font-weight: 600; margin-bottom: 0.25rem;">
                                            Document Data</h2>
                                        <div id="data-doc-meta"
                                            style="font-size: 0.8rem; color: hsl(var(--muted-foreground));">
                                        </div>
                                    </div>
                                    <select id="audit-view-select" class="select"
                                        style="padding: 0.25rem 0.5rem; font-size: 0.8rem; width: auto;">
                                        <option value="structured">Structured Data</option>
                                        <option value="pipeline">Extraction Pipeline</option>
                                        <option value="raw_json">Raw JSON</option>
                                        <option value="extracted_text">Extracted Text</option>
                                    </select>
                                </div>
                            </div>
                            <div id="silver-data-content" class="data-content">
                                <!-- Populated by JS -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="config.js"></script>
    <script src="nav.js"></script>
    <!-- PDF.js -->
    <script src="vendor/pdfjs/pdf.min.js"></script>
    <script>
        if (window['pdfjsLib']) {
            pdfjsLib.GlobalWorkerOptions.workerSrc = 'vendor/pdfjs/pdf.worker.min.js';
        }
    </script>
    <script src="silver_split_view.js"></script>
</body>

</html>