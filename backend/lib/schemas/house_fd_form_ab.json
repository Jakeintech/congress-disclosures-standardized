{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://github.com/example/congress-disclosures/schemas/house_fd_form_ab.json",
  "title": "House Financial Disclosure - Form A/B",
  "description": "Structure for Form A (Annual/Termination) and Form B (New/Candidate) financial disclosure reports",
  "allOf": [
    {
      "$ref": "house_fd_structured_base.json"
    },
    {
      "type": "object",
      "properties": {
        "schedule_a_assets": {
          "type": "array",
          "description": "Schedule A: Assets and Unearned Income",
          "items": {
            "type": "object",
            "required": ["asset_name"],
            "properties": {
              "asset_name": {
                "type": "string",
                "description": "Name/description of asset (may include type code in brackets)"
              },
              "asset_type_code": {
                "type": "string",
                "description": "Two-letter asset type code (RP, BA, OT, etc.)",
                "pattern": "^[A-Z]{2}$"
              },
              "owner_code": {
                "type": "string",
                "enum": ["SP", "DC", "JT", ""],
                "description": "SP=Spouse, DC=Dependent Child, JT=Joint, blank=Filer"
              },
              "value_low": {
                "type": ["integer", "null"],
                "description": "Lower bound of asset value range",
                "minimum": 0
              },
              "value_high": {
                "type": ["integer", "null"],
                "description": "Upper bound of asset value range"
              },
              "value_code": {
                "type": "string",
                "description": "Original value range code (e.g., '$100,001 - $250,000')"
              },
              "location": {
                "type": "string",
                "description": "Geographic location of asset (for real property)"
              },
              "description": {
                "type": "string",
                "description": "Additional notes or description"
              },
              "income": {
                "type": "array",
                "description": "Income generated by this asset",
                "items": {
                  "type": "object",
                  "properties": {
                    "income_type": {
                      "type": "string",
                      "description": "Type of income (Rent, Interest, Dividends, etc.)"
                    },
                    "current_year_low": {
                      "type": ["integer", "null"],
                      "description": "Lower bound of current year income"
                    },
                    "current_year_high": {
                      "type": ["integer", "null"],
                      "description": "Upper bound of current year income"
                    },
                    "preceding_year_low": {
                      "type": ["integer", "null"],
                      "description": "Lower bound of preceding year income"
                    },
                    "preceding_year_high": {
                      "type": ["integer", "null"],
                      "description": "Upper bound of preceding year income"
                    }
                  }
                }
              }
            }
          }
        },
        "schedule_c_earned_income": {
          "type": "array",
          "description": "Schedule C: Employment Income and Honoraria",
          "items": {
            "type": "object",
            "required": ["source", "type"],
            "properties": {
              "source": {
                "type": "string",
                "description": "Source of income (employer name)"
              },
              "type": {
                "type": "string",
                "description": "Type of income (Salary, Spouse Salary, Honoraria, etc.)"
              },
              "current_year_amount": {
                "type": ["number", "null"],
                "description": "Amount earned in current/filing year",
                "minimum": 0
              },
              "preceding_year_amount": {
                "type": ["number", "null"],
                "description": "Amount earned in preceding year",
                "minimum": 0
              },
              "description": {
                "type": "string",
                "description": "Additional details about income"
              }
            }
          }
        },
        "schedule_d_liabilities": {
          "type": "array",
          "description": "Schedule D: Liabilities",
          "items": {
            "type": "object",
            "required": ["creditor", "type"],
            "properties": {
              "owner_code": {
                "type": "string",
                "enum": ["SP", "DC", "JT", ""],
                "description": "SP=Spouse, DC=Dependent Child, JT=Joint, blank=Filer"
              },
              "creditor": {
                "type": "string",
                "description": "Name of creditor"
              },
              "date_incurred": {
                "type": "string",
                "description": "When liability was incurred (may be text like 'July 2013')"
              },
              "type": {
                "type": "string",
                "description": "Type of liability (Mortgage, Car loan, etc.)"
              },
              "amount_low": {
                "type": ["integer", "null"],
                "description": "Lower bound of liability amount"
              },
              "amount_high": {
                "type": ["integer", "null"],
                "description": "Upper bound of liability amount"
              }
            }
          }
        },
        "schedule_e_positions": {
          "type": "array",
          "description": "Schedule E: Positions Held Outside U.S. Government",
          "items": {
            "type": "object",
            "required": ["position", "organization"],
            "properties": {
              "position": {
                "type": "string",
                "description": "Position title"
              },
              "organization": {
                "type": "string",
                "description": "Name of organization"
              }
            }
          }
        },
        "schedule_f_agreements": {
          "type": "object",
          "description": "Schedule F: Agreements",
          "properties": {
            "has_agreements": {
              "type": "boolean",
              "description": "Whether any agreements are disclosed"
            },
            "agreements": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "party": {
                    "type": "string",
                    "description": "Other party to agreement"
                  },
                  "date": {
                    "type": "string",
                    "description": "Date of agreement"
                  },
                  "terms": {
                    "type": "string",
                    "description": "Terms of agreement"
                  }
                }
              }
            }
          }
        },
        "schedule_j_compensation": {
          "type": "array",
          "description": "Schedule J: Compensation Over $5,000 from One Source",
          "items": {
            "type": "object",
            "properties": {
              "source_name": {
                "type": "string",
                "description": "Name of organization providing compensation"
              },
              "source_address": {
                "type": "string",
                "description": "Address of organization"
              },
              "description": {
                "type": "string",
                "description": "Brief description of duties"
              }
            }
          }
        }
      }
    }
  ]
}